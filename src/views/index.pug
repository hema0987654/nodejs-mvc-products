html
  head
    title= title || 'Welcome to MyStore'
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet", href="/style/styles.css")
    link(rel="stylesheet", href="https://unpkg.com/aos@2.3.1/dist/aos.css")
  body(class="fade-in")
    // Navbar
    header.navbar
      .logo MyStore
      .nav-links
        if !user
          a.btn(href="/login") ðŸ” Login
          a.btn(href="/signup") ðŸ“ Sign Up
        else
          a.btn(href="/cart") ðŸ›’ Cart
          a.btn(href="/logout") ðŸšª Logout
        button#themeToggle.btn-theme ðŸŒ™

    // Main content
    main.container(data-aos="zoom-in")
      h1.page-title= message || 'Welcome to Our Store!'
      p.lead Explore great deals or share your own products.

      .btn-group
        a.btn(href="/api/products") ðŸ›ï¸ View Products

        // ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·
        if user
          a.btn.add(href="/api/addProduct") âž• Add New Product

    // Footer (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    footer.footer
      p &copy; #{new Date().getFullYear()} MyStore. All rights reserved.

    // Scripts
    script(src="https://unpkg.com/aos@2.3.1/dist/aos.js")
    script.
      AOS.init({ duration: 1000, once: true });

      const toggleBtn = document.getElementById('themeToggle');
      toggleBtn.addEventListener('click', () => {
        document.body.classList.toggle('light-mode');
        const isLight = document.body.classList.contains('light-mode');
        toggleBtn.textContent = isLight ? 'ðŸŒ™' : 'â˜€ï¸';
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
      });

      window.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
          document.body.classList.add('light-mode');
          toggleBtn.textContent = 'ðŸŒ™';
        }
      });

      // Ø§Ù†ØªÙ‚Ø§Ù„ Ù†Ø§Ø¹Ù… Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
      document.querySelectorAll('a[href^="/"]').forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          const href = link.getAttribute('href');
          document.body.classList.remove('fade-in');
          document.body.classList.add('fade-out');
          setTimeout(() => window.location.href = href, 300);
        });
      });
